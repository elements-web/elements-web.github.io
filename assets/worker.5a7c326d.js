var e=Object.defineProperty,r=(r,t,o)=>(((r,t,o)=>{t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o})(r,"symbol"!=typeof t?t+"":t,o),o);import{B as t,b as o,c as s,e as n,d as a}from"./vendor.217bc34e.js";import{r as p}from"./index.06df7f2c.js";import{c as i,e as l,a as c}from"./server.850431cf.js";const u=Object.create(null),d=class extends t{getName(){return d.Name}isReadOnly(){return!0}supportsProps(){return!1}supportsSynch(){return!1}stat(e,r,t){e in u?t(null,u[e].stats):t(new o.exports.Errors.ApiError(o.exports.Errors.ErrorCode.ENOENT))}open(e,r,t,o){throw new Error("Method not implemented.")}readFile(e,r,t,o){throw new Error("Method not implemented.")}writeFile(e,r,t,o){throw new Error("Method not implemented.")}appendFile(e,r,t,o){throw new Error("Method not implemented.")}openSync(){throw new o.exports.Errors.ApiError(o.exports.Errors.ErrorCode.ENOTSUP)}existsSync(){throw new o.exports.Errors.ApiError(o.exports.Errors.ErrorCode.ENOTSUP)}realpath(e,r,t){t(new o.exports.Errors.ApiError(o.exports.Errors.ErrorCode.ENOTSUP))}realpathSync(){throw new o.exports.Errors.ApiError(o.exports.Errors.ErrorCode.ENOTSUP)}truncate(e,r,t){t(new o.exports.Errors.ApiError(o.exports.Errors.ErrorCode.ENOTSUP))}truncateSync(){throw new o.exports.Errors.ApiError(o.exports.Errors.ErrorCode.ENOTSUP)}};let m=d;r(m,"Name","ElementsDevices"),r(m,"Options",{}),r(m,"Create",((e,r)=>r(null,new d))),r(m,"isAvailable",(()=>!0));const E=Object.create(null);o.exports.install(E),o.exports.registerFileSystem(m.Name,m);const w=new Promise(((e,r)=>o.exports.configure({fs:"MountableFileSystem",options:{"/tmp":{fs:"InMemory"},"/home":{fs:"IndexedDB",options:{storeName:"elementsFS"}},"/dev":{fs:m.Name}}},(t=>t&&(r(t),!0)||e())))),f={fs:()=>E.require("fs"),buffer:()=>E.Buffer},h=s.initialize({wasmURL:n,worker:!0}),y=Object.assign({},f),x=p();Object.defineProperty(globalThis,x,{enumerable:!1,value:y});const b={name:"import-plugin",setup(e){e.onResolve({filter:/.*/},(e=>{const{type:r,parsed:t}=function(e,r){if(/^https?:\/\/./.test(e))return{type:"http",parsed:e};if(/^\.\.?\/./.test(e)&&r)return{type:"http",parsed:new URL(e,r).toString()};if(Object.keys(y).includes(e))return{type:"native",parsed:`module.exports = globalThis[${JSON.stringify(x)}][${JSON.stringify(e)}]();`};throw new Error(`Import path ${e} not supported`)}(e.path,e.importer);return"http"===r?{path:t,namespace:"http-url"}:"native"===r?{path:e.path,namespace:"native",pluginData:t}:void 0})),e.onLoad({filter:/.*/,namespace:"http-url"},(async e=>({contents:await fetch(e.path).then((e=>e.text()))}))),e.onLoad({filter:/.*/,namespace:"native"},(async e=>({contents:e.pluginData})))}};const O=Object.getPrototypeOf((async function(){})).constructor,S={async exec(e){const r=await(async e=>{await h,await w;let r=a;const t=await r.build({bundle:!0,splitting:!1,entryPoints:[e],plugins:[b],format:"esm"});return(new TextDecoder).decode(t.outputFiles[0].contents)})(e);new O(r)()}};i(l(c(self,(async(e,r,t)=>{try{t(null,await S[e](r))}catch(o){t(o)}}))));
