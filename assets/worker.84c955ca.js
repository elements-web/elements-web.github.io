var e=Object.defineProperty,t=(t,r,n)=>(((t,r,n)=>{r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n})(t,"symbol"!=typeof r?r+"":r,n),n);import{b as r,c as n,e as o,d as i}from"./vendor.2a45289c.js";import{r as s}from"./index.06df7f2c.js";import{c as a,e as p,a as m}from"./server.850431cf.js";const d=class{getName(){return d.Name}diskSpace(e,t){t(0,0)}isReadOnly(){return!0}supportsLinks(){return!1}supportsProps(){return!1}supportsSynch(){return!1}stat(e,t,r){throw new Error("Method not implemented.")}statSync(e,t){throw new Error("Method not implemented.")}open(e,t,r,n){throw new Error("Method not implemented.")}openSync(e,t,r){throw new Error("Method not implemented.")}readdir(e,t){throw new Error("Method not implemented.")}readdirSync(e){throw new Error("Method not implemented.")}exists(e,t){throw new Error("Method not implemented.")}existsSync(e){throw new Error("Method not implemented.")}realpath(e,t,r){throw new Error("Method not implemented.")}realpathSync(e,t){throw new Error("Method not implemented.")}truncate(e,t,r){throw new Error("Method not implemented.")}truncateSync(e,t){throw new Error("Method not implemented.")}readFile(e,t,r,n){throw new Error("Method not implemented.")}readFileSync(e,t,r){throw new Error("Method not implemented.")}writeFile(e,t,r,n,o,i){throw new Error("Method not implemented.")}writeFileSync(e,t,r,n,o){throw new Error("Method not implemented.")}appendFile(e,t,r,n,o,i){throw new Error("Method not implemented.")}appendFileSync(e,t,r,n,o){throw new Error("Method not implemented.")}chmod(e,t,r,n){throw new Error("Method not implemented.")}chmodSync(e,t,r){throw new Error("Method not implemented.")}chown(e,t,r,n,o){throw new Error("Method not implemented.")}chownSync(e,t,r,n){throw new Error("Method not implemented.")}utimes(e,t,r,n){throw new Error("Method not implemented.")}utimesSync(e,t,r){throw new Error("Method not implemented.")}link(e,t,r){throw new Error("Method not implemented.")}linkSync(e,t){throw new Error("Method not implemented.")}symlink(e,t,r,n){throw new Error("Method not implemented.")}symlinkSync(e,t,r){throw new Error("Method not implemented.")}readlink(e,t){throw new Error("Method not implemented.")}readlinkSync(e){throw new Error("Method not implemented.")}};let l=d;t(l,"Name","ElementsDevices"),t(l,"Options",{}),t(l,"Create",((e,t)=>t(null,new d))),t(l,"isAvailable",(()=>!0)),["rename","unlink","rmdir","mkdir"].forEach((e=>{return(t=l.prototype)[(n=e)+"Sync"]=()=>{const e=r.exports.Errors.ErrorCode.ENOTSUP,t=r.exports.Errors.ErrorStrings[e];throw new r.exports.Errors.ApiError(e,t)},void(t[n]=(...e)=>{try{t[n+"Sync"]()}catch(r){e.pop()(r)}});var t,n}));const h=Object.create(null);r.exports.install(h),r.exports.registerFileSystem(l.Name,l);const w=new Promise(((e,t)=>r.exports.configure({fs:"MountableFileSystem",options:{"/tmp":{fs:"InMemory"},"/home":{fs:"IndexedDB",options:{storeName:"elementsFS"}},"/dev":{fs:l.Name}}},(r=>r&&(t(r),!0)||e())))),c={fs:()=>h.require("fs"),buffer:()=>h.Buffer},u=n.initialize({wasmURL:o,worker:!0}),y=Object.assign({},c),E=s();Object.defineProperty(globalThis,E,{enumerable:!1,value:y});const f={name:"import-plugin",setup(e){e.onResolve({filter:/.*/},(e=>{const{type:t,parsed:r}=function(e,t){if(/^https?:\/\/./.test(e))return{type:"http",parsed:e};if(/^\.\.?\/./.test(e)&&t)return{type:"http",parsed:new URL(e,t).toString()};if(Object.keys(y).includes(e))return{type:"native",parsed:`module.exports = globalThis[${JSON.stringify(E)}][${JSON.stringify(e)}]();`};throw new Error(`Import path ${e} not supported`)}(e.path,e.importer);return"http"===t?{path:r,namespace:"http-url"}:"native"===t?{path:e.path,namespace:"native",pluginData:r}:void 0})),e.onLoad({filter:/.*/,namespace:"http-url"},(async e=>({contents:await fetch(e.path).then((e=>e.text()))}))),e.onLoad({filter:/.*/,namespace:"native"},(async e=>({contents:e.pluginData})))}};const M={async exec(e){const t=await(async e=>{await u,await w;let t=i;const r=await t.build({bundle:!0,splitting:!1,entryPoints:[e],plugins:[f],format:"iife",banner:{js:"(async () => {"},footer:{js:"})()"}});return(new TextDecoder).decode(r.outputFiles[0].contents)})(e);new Function(t)()}};a(p(m(self,(async(e,t,r)=>{try{r(null,await M[e](t))}catch(n){r(n)}}))));
